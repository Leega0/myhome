function initCanvas(){var a=0>leftMargin?-leftMargin:0,i=0>topMargin?-toptMargin:0;clippingRegion={x:Math.random()*(canvas.width-2*radius-2*a)+radius+a,y:Math.random()*(canvas.height-2*radius-2*i)+radius+i,r:50},draw(image,clippingRegion)}function setClippingRegion(a){context.beginPath(),context.arc(a.x,a.y,a.r,0,2*Math.PI,!1),context.clip()}function draw(a,i){context.clearRect(0,0,canvas.width,canvas.height),context.save(),setClippingRegion(i),context.drawImage(a,leftMargin,topMargin,canvas.width,canvas.height,0,0,canvas.width,canvas.height),context.restore()}function reset(){initCanvas()}function show(){var a=setInterval(function(){clippingRegion.r+=70,clippingRegion.r>2*Math.max(canvas.width,canvas.height)&&clearInterval(a),draw(image,clippingRegion)},30)}var canvasWidth=window.innerWidth,canvasHeight=window.innerHeight,canvas=document.getElementById("canvas"),context=canvas.getContext("2d");canvas.width=canvasWidth,canvas.height=canvasHeight;var image=new Image,radius=50,clippingRegion={x:400,y:200,r:50},leftMargin=0,topMargin=0;image.src="img/canvas.jpg",image.onload=function(){$("#blur-div").css("width",canvasWidth+"px"),$("#blur-div").css("height",canvasHeight+"px"),$("#blur-image").css("width",image.width+"px"),$("#blur-image").css("height",image.height+"px"),leftMargin=(image.width-canvas.width)/2,topMargin=(image.height-canvas.height)/2,console.log(leftMargin),$("#blur-image").css("left",String(-leftMargin)+"px"),$("#blur-image").css("top",String(-topMargin)+"px"),initCanvas()};